/* Variables */
$container-x-padding: 16px;

// basic container
.container {
  flex: 1;
  height: 100%;
  width: 100%;

  // to push content to the middle if window.innerWidth is more than 1200px
  align-self: center;
  max-width: $max-container-size;

  //give container a padding if necessary
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  padding-bottom: var(--container-bottom-padding);

  // remove all overflow and allow overflow y to scroll
  overflow: hidden;

  .parent,
  .child {
    // remove all overflow and allow overflow y to scroll
    overflow-x: hidden;
    overflow-y: auto;
  }

  .child {
    background-color: var(--surface2);
    color: var(--on-surface);
  }
}

@media only screen and (orientation: portrait) {
  .container {
    .parent {
      height: 100%;
      padding: 0 $container-x-padding;
    }

    .child {
      // child is a sheet when in portrait mode
      position: fixed;
      top: 0;
      right: 0;
      width: 100vw;
      height: calc(var(--vh) * 100);
      z-index: $sheet-elevation;

      transform: translateX(100%);

      transition: transform 0.3s ease-out;
      will-change: transform;

      &:not(:empty) {
        max-width: 100%;
        transform: translateX(0);
      }
    }
  }
}

// Media queries
@media only screen and (orientation: landscape) {
  .container {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);

    display: flex;

    .parent {
      flex: 1;
      padding: 0 ($container-x-padding * 1.5);
    }

    .child {
      flex: 1;
      max-width: 0;
      opacity: 0;

      // some spacing below child
      margin-bottom: 24px;

      border-radius: 32px;

      transition: all 0.8s ease-out, margin-right 0s 0.6s;
      will-change: max-width, opacity;

      &:not(:empty) {
        margin-right: $container-x-padding * 1.5;
        max-width: 100%;
        opacity: 1;
        transition: all 0.8s ease-out, margin-right 0s;
      }
    }
  }
}

/* Variables */
$header-inner-padding: 16px;
$header-border-radius: 24px;

.header {
  padding: ($header-inner-padding * 1.5) $header-inner-padding;

  display: grid;
  grid-template-columns: $icon-size 1fr $icon-size;
  grid-template-rows: auto auto;
  grid-template-areas: 'close-btn title more-action-btn' 'content content content';

  background-color: var(--primary);
  color: var(--on-primary);

  border-radius: 0 0 $header-border-radius $header-border-radius;

  place-items: center;

  .close-btn {
    grid-area: close-btn;
  }

  .title {
    grid-area: title;
  }

  .more-action-btn {
    grid-area: more-action-btn;
  }

  .content {
    grid-area: content;
    padding: $header-inner-padding;
    padding-bottom: 0;
  }
}

@media only screen and (orientation: portrait) {
  .header {
    padding-top: $header-inner-padding;
  }
}
