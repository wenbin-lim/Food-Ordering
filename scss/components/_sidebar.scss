/* Variables */
$sidebar-width: 300px;

$sidebar-padding: var(--padding);
$sidebar-item-height: 48px;

.sidebar-scrim {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: calc(var(--vh) * 100);

  z-index: $sidebar-elevation;

  // before animation
  backdrop-filter: blur(0px);
  background-color: transparent;

  .sidebar {
    height: 100%;
    width: $sidebar-width;

    padding-top: $sidebar-padding;
    padding-bottom: Max(#{$sidebar-padding}, env(safe-area-inset-bottom));
    padding-left: Max(#{$sidebar-padding}, env(safe-area-inset-left));
    padding-right: Max(#{$sidebar-padding}, env(safe-area-inset-left));

    background-color: var(--background);
    color: var(--on-background);

    // before animation state
    transform: translateX(-100%);

    display: grid;
    grid-template-rows: auto 1fr auto;
    grid-template-areas: 'sidebar-header' 'sidebar-content' 'sidebar-footer';
    grid-gap: var(--padding);

    .sidebar-logo {
      max-width: 100%;
      height: $sidebar-item-height;

      cursor: pointer;

      @extend .invert-in-dark-mode;
    }

    .sidebar-content-divider {
      margin-top: var(--padding);
      margin-bottom: var(--padding);
    }

    .sidebar-link-group {
      padding: 0 var(--padding);
      height: $sidebar-item-height;
      display: flex;
      cursor: pointer;

      .sidebar-link-icon {
        height: $icon-size;

        display: grid;
        place-items: center;

        margin-right: $icon-size / 4;
      }

      .sidebar-link {
        flex: 1;
        @include button-text;
        display: grid;
        align-items: center;
      }
    }

    .sidebar-header {
      display: flex;
      grid-area: sidebar-header;
      justify-content: center;
    }

    .sidebar-content {
      display: flex;
      grid-area: sidebar-content;

      flex-direction: column;
      overflow: auto;
      @include hide-scrollbar;
    }

    .sidebar-footer {
      display: flex;
      align-items: center;
      justify-content: center;
      grid-area: sidebar-footer;

      flex-direction: column;
    }
  }
}
